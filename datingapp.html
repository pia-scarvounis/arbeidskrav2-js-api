<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Dating-app</title>
    <link rel="stylesheet" href="styles.css" />
  </head>
  <body>
    <h1>Velkommen til din datingapp</h1>
    <!--- knapper til dating-siden -->
    <div class="content-container">
      <button id="women-btn" class="btn">Women</button>
      <button id="men-btn" class="btn">Men</button>
      <button id="both-btn" class="btn">Men & Women</button>
    </div>

    <!-- container & counter -->
    <div id="profile-container"></div>
    <div id="swipe-score-container"></div>

    <script>
      // knapper, containers & counters js:
      const womenBtn = document.getElementById("women-btn");
      const menBtn = document.getElementById("men-btn");
      const bothBtn = document.getElementById("both-btn");

      const profileContainer = document.getElementById("profile-container");
      let swipeScoreContainer = document.getElementById(
        "swipe-score-container"
      );
      let swipeCounter = 10;

      // fetching, try & catch:
      let randomUsers; // legge alle random users i denne variabelen senere
      async function fetchRandomUser() {
        const randomUserRequest = await fetch(
          `https://randomuser.me/api/?results=30&gender=`
        );

        let result = await randomUserRequest.json();

        return result;
      }
      console.log("inne i fetchRandomUser", fetchRandomUser());

      // hjelpefunksjon som henter inn randomUsers og viser de frem.
      function fetchAndShowUsers() {
        try {
          randomUsers = fetchRandomUser();
        } catch {
          console.error(
            "Uh oh, something has gone wrong. Please tweet us @randomapi about the issue. Thank you.",
            error
          );
        }
      }
      fetchAndShowUsers();
      console.log("test kjÃ¸ring fetchAndShowUses:", randomUsers);

      // Vise random brukere:
      function displayUsers(users) {
        profileContainer.innerHTML = "";
        users.forEach((user) => {
          const profileDiv = document.createElement("div");
          profileDiv.className = "profile";

          const image = document.createElement("img");
          image.src = user.picture.large;
          image.alt = "Profile Picture";
          profileDiv.appendChild(image);

          const name = document.createElement("p");
          name.textContent = `${user.name.title} ${user.name.first} ${user.name.last}`;
          profileDiv.appendChild(name);

          profileContainer.appendChild(profileDiv);
        });
      }

      async function fetchAndShowUsers() {
        const randomUserResult = await fetchRandomUser();
        if (randomUserResult && randomUserResult.results) {
          displayUsers(randomUserResult.results);
        }
      }
      document.addEventListener("DOMContentLoaded", fetchAndShowUsers);
    </script>
  </body>
</html>
